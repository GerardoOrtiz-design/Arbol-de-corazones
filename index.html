<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Amor eterno</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="botonInicio">
    <h1>üå∏ Espero te guste cucarachita üå∏</h1>
    <button onclick="iniciarTodo()">Haz clic para comenzar</button>
  </div>

  <div class="petalos"></div>

  <div id="contenedor">
    <div class="mensaje">
      <p id="texto"></p>
      <p id="contador"></p>
    </div>

    <div class="arbol">
      <img src="Imagen.png" alt="Tronco" class="tronco" id="tronco" />
      <div id="corazones"></div>
    </div>
  </div>

  <audio id="musica" src="audio.mp3" preload="auto"></audio>

  <script>
    const mensaje = `Para el amor de mi vida:\nUn a√±o y medio de amor, superando todo juntos. \nGracias por ser mi paz entre tanto caos ‚Äî I Love You!`;
    let i = 0;

    function escribirTexto() {
      if (i < mensaje.length) {
        document.getElementById("texto").innerHTML += mensaje.charAt(i);
        i++;
        setTimeout(escribirTexto, 40);
      }
    }

    function actualizarContador() {
      const inicio = new Date('2023-11-08T00:00:00');
      const ahora = new Date();
      const diferencia = ahora - inicio;

      const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
      const horas = ahora.getHours();
      const minutos = ahora.getMinutes();
      const segundos = ahora.getSeconds();

      document.getElementById('contador').innerHTML =
        `<strong>Mi amor por ti comenz√≥ hace...</strong> ${dias} d√≠as ${horas} horas ${minutos} minutos ${segundos} segundos`;
    }

    function llenarCorazonGrande() {
      const contenedor = document.getElementById('corazones');
      const cantidad = 650;
      const centroX = contenedor.offsetWidth / 2;
      const centroY = contenedor.offsetHeight / 2 + 50;
      const colores = ['#ff4d4d', '#ff6666', '#ff9999', '#ff1a75', '#ff3377', '#ff80aa'];

      for (let i = 0; i < cantidad; i++) {
        setTimeout(() => {
          const t = Math.random() * Math.PI * 2;
          const r = Math.random();
          const x = 16 * Math.pow(Math.sin(t), 3);
          const y = 13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t);

          const corazon = document.createElement('div');
          corazon.classList.add('corazon');
          corazon.innerHTML = '‚ù§';
          corazon.style.color = colores[Math.floor(Math.random() * colores.length)];
          corazon.style.left = centroX + x * 10 * r + 'px';
          corazon.style.top = centroY - y * 10 * r + 'px';

          contenedor.appendChild(corazon);
        }, i * 30);
      }
    }

  function crearPetalos() {
  const petalos = document.querySelector('.petalos');
  for (let i = 0; i < 100; i++) {
    const petalo = document.createElement('div');
    petalo.classList.add('petalo');
    petalo.style.left = `${Math.random() * 100}vw`;
    petalo.style.animationDuration = `${8 + Math.random() * 5}s`; // duraci√≥n distinta
    petalo.style.opacity = `${0.3 + Math.random() * 0.4}`; // opacidad variable
    petalo.style.width = petalo.style.height = `${15 + Math.random() * 20}px`; // tama√±o variable
    petalo.style.animationDelay = `${Math.random() * 5}s`;
    petalos.appendChild(petalo);
  }
}


    function iniciarTodo() {
      document.getElementById("botonInicio").style.display = "none";
      document.getElementById("musica").play();

      // Mostrar tronco con animaci√≥n
      document.getElementById("tronco").style.animation = "crecer 2s ease-out forwards";

      crearPetalos();
      setTimeout(llenarCorazonGrande, 2000);
      escribirTexto();
      setInterval(actualizarContador, 1000);
    }
  </script>
</body>
</html>
